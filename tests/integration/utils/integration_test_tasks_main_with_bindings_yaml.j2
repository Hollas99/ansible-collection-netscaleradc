---
- name: {{ module_name | upper }} | ADD | --check
  delegate_to: localhost
  register: result
  check_mode: true
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.desired.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | ADD | --check
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | ADD
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.desired.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | ADD
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | ADD | idempotent
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.desired.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | ADD | idempotent
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==false"

- name: {{ module_name | upper }} | UNBIND | --check
  delegate_to: localhost
  register: result
  check_mode: true
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.unbind.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | UNBIND | --check
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | UNBIND
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.unbind.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | UNBIND
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | UNBIND | idempotent
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.unbind.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | UNBIND | idempotent
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==false"

- name: {{ module_name | upper }} | BIND | --check
  delegate_to: localhost
  register: result
  check_mode: true
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.bind.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | BIND | --check
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | BIND
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.bind.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | BIND
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | BIND | idempotent
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: present
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.bind.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | BIND | idempotent
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==false"

- name: {{ module_name | upper }} | DELETE | --check
  delegate_to: localhost
  register: result
  check_mode: true
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: absent
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.desired.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | DELETE | --check
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | DELETE
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: absent
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.desired.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | DELETE
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==true"

- name: {{ module_name | upper }} | DELETE | idempotent
  delegate_to: localhost
  register: result
  check_mode: false
  tags: test
  netscaler.adc.{{ module_name }}:
    nsip: "{{ nsip }}"
    nitro_user: "{{ nitro_user }}"
    nitro_pass: "{{ nitro_pass }}"
    nitro_protocol: "{{ nitro_protocol }}"
    validate_certs: "{{ validate_certs }}"
    save_config: "{{ save_config }}"
    state: absent
    {% for key, value in module_specific_params.items() %}
    {{ key }}: {{ value }}{% endfor %}
    {% for key, value in bindings.desired.items() %}
    {{ key }}: {{ value }}{% endfor %}

- name: Assert | {{ module_name | upper }} | DELETE | idempotent
  tags: test
  ansible.builtin.assert:
    that:
      - "result.failed==false"
      - "result.changed==false"
